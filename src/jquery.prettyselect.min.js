!function(a){var b,c,d={pluginName:"prettyselect",wrapClass:"prettyselect-wrap",labelClass:"prettyselect-label",dropClass:"prettyselect-drop"},e={fire:function(a,b){if("createEvent"in document){var c=document.createEvent("HTMLEvents");c.initEvent(b,!1,!0),a.dispatchEvent(c)}else a.fireEvent("on"+b)},populate:function(b){{var c="";b.val()}return b.find("option").each(function(){var b=a(this);c+='<li data-value="'+b.attr("value")+'">'+b.html()+"</li>"}),c},mutationObserver:function(b,c){if(window.MutationObserver){var d=window.MutationObserver,e=new d(c);e.observe(b[0],{subtree:!0,attributes:!1,childList:!0}),b.data("mutationObserver",e)}else{var f=setInterval(a.proxy(function(){var a=this.element.html(),b=this.element.data("mo-html");a!==b&&(this.element.data("mo-html",a),c())},{element:b,callBack:c}),50);b.data("mutationObserver",f)}}},f={init:function(f){if("undefined"==typeof c||null===c){c=a.extend({initDone:!0},d,f);var g=b;g.hide().wrap('<div class="'+c.wrapClass+'"/>');var h=g.parents("."+c.wrapClass),i=g.find("option:selected").html(),j=a('<div class="'+c.labelClass+'"/>').html(i);h.append(j);var k=e.populate(g),l=a('<ul class="'+c.dropClass+'">'+k+"</ul>");l.hide(),h.append(l),h.on("click","li",function(){g[0].value=a(this).data("value"),e.fire(g[0],"change")}),g.on("change",function(){var a=g.val(),b=g.find('option[value = "'+a+'"]').html();j.html(b)}),j.on("click",function(b){l.is(":visible")||(b.stopPropagation(),l.show(),a("html").one("click",function(){l.hide()}))}),e.mutationObserver(g,a.proxy(function(){var a=this.parents("."+c.wrapClass);a.find("."+c.dropClass).html(e.populate(this))},g))}},destroy:function(){var a=b,d=a.parents("."+c.wrapClass),e=d.find("."+c.labelClass),f=d.find("."+c.dropClass),g=a.data("mutationObserver");"object"==typeof g?g.disconnect():window.clearInterval(g),e.detach(),f.detach(),a.show().unwrap(c.wrapClass),c=null}};a.fn[d.pluginName]=function(e){var g,h=arguments;return this.each(function(){b=a(this),c=b.data(d.pluginName);var i=c;f[e]?g=f[e].apply(this,Array.prototype.slice.call(h,1)):"object"!=typeof e&&e?a.error("Method "+e+" does not exist on plugin: "+d.pluginName):g=f.init.apply(this,h),i!==c&&b.data(d.pluginName,c)}),"undefined"!=typeof g?g:this}}(jQuery);