(function(){var a=[].slice;!function(b){var c;return c=function(){function a(a,c){var d,e,f,g,h;this.options=b.extend({},this.defaults,c),this.$select=b(a),this.$select.hide().wrap("<div class="+this.options.wrapClass+"/>"),f=this.$select.parents("."+this.options.wrapClass),h=this.$select.find("option:selected").html(),e=b("<div class="+this.options.labelClass+"/>").html(h),f.append(e),g=this.privates.populate(this.$select),d=b("<ul class="+this.options.dropClass+">"+g+"</ul>"),d.hide(),f.append(d),f.on("click","li",b.proxy(function(a){var c,d;return c=b(a.target),d=this,d[0].value=c.data("value"),d.trigger("change")},this.$select)),this.$select.on("change",function(a){var c,d;return c=b(a.target),d=c.val(),h=c.find("option[value = "+d+"]").html(),e.html(h)}),e.on("click",function(a){return d.is(":visible")?void 0:(a.stopPropagation(),d.show(),b("html").one("click",function(){return d.hide()}))}),this.privates.mutationObserver(this.$select,b.proxy(function(){return f=this.$select.parents("."+this.options.wrapClass),f.find("."+this.options.dropClass).html(this.privates.populate(this.$select))},this))}return a.prototype.defaults={wrapClass:"prettyselect-wrap",labelClass:"prettyselect-label",dropClass:"prettyselect-drop"},a.prototype.privates={populate:function(a){var c,d;return c="",d=a.val(),a.find("option").each(function(){var a;return a=b(this),c+='<li data-value="'+a.attr("value")+'">'+a.html()+"</li>"}),c},mutationObserver:function(a,c){var d,e,f;return window.MutationObserver?(d=window.MutationObserver,f=new d(c),f.observe(a[0],{subtree:!0,attributes:!1,childList:!0}),a.data("mutationObserver",f)):(e=setInterval(b.proxy(function(){var a,b;return a=this.element.html(),b=this.element.data("mo-html"),a!==b?(this.element.data("mo-html",a),c()):void 0},{element:a,callBack:c}),200),a.data("mutationObserver",e))}},a.prototype.destroy=function(){var a,b,c,d;return c=this.$select.parents("."+this.options.wrapClass),a=c.find("."+this.options.labelClass),b=c.find("."+this.options.dropClass),d=this.$select.data("mutationObserver"),"object"==typeof d?d.disconnect():window.clearInterval(d),a.detach(),b.detach(),this.$select.show().unwrap(this.options.wrapClass),this.$select.removeData("PrettySelect")},a}(),b.fn.extend({prettyselect:function(){var d,e;return e=arguments[0],d=2<=arguments.length?a.call(arguments,1):[],this.each(function(){var a,f;return a=b(this),f=a.data("PrettySelect"),f||a.data("PrettySelect",f=new c(this,e)),"string"==typeof e?f[e].apply(f,d):void 0})}})}(jQuery)}).call(this);