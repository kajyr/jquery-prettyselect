/*
jquery-prettyselect - v1.4.2
Carlo 'kj'
2015-08-05
*/
(function(){var a;null==window.MutationObserver&&(a=function(){function a(a){this.callBack=a}return a.prototype.observe=function(a){return this.element=a,this.interval=setInterval(function(a){return function(){var b;return b=a.element.innerHTML,b!==a.oldHtml?(a.oldHtml=b,a.callBack.apply(null)):void 0}}(this),200)},a.prototype.disconnect=function(){return clearInterval(this.interval)},a}(),window.MutationObserver=a)}).call(this),function(){var a=[].slice;!function(b){var c;return c=function(){function a(a,c){var d,e,f;this.options=b.extend({},this.defaults,c),this.options.optionsSelector=this.options.onlyValuedOptions?this._.optionsSelector.onlyWithValue:this._.optionsSelector.withoutValue,this.$select=b(a).hide().wrap("<div class="+this.options.wrapClass+"/>"),this.$label=b("<div class="+this.options.labelClass+"/>").html(this._.getLabel(this.$select)),d=this.$select.find(this.options.optionsSelector),f=this._.populate(d),this.$drop=b("<ul class="+this.options.dropClass+">"+f+"</ul>"),this.closeDrop(),this.$wrap=this.$select.parents("."+this.options.wrapClass).attr("data-prettyselect-elements",d.length).append(this.$label).append(this.$drop).on("click","li",function(a){return function(c){var d,e;if(!a.isDisabled()&&(e=unescape(b(c.currentTarget).attr("data-value")),d=a.$select.val(),d!==e))return a.$select.val(e).trigger("change")}}(this)),this.$select.on("change",function(a){return function(){var b;return b=a.$select.val().replace("'","\\'"),a.$label.html(a.$select.find("option[value = '"+b+"']").html())}}(this)),this.$label.on("click",function(a){return function(c){return a.isDropOpen()||a.isDisabled()?void 0:(c.stopPropagation(),a.showDrop(),b("html").one("click",function(){return a.closeDrop()}))}}(this)),e=window.MutationObserver,this.observer=new e(function(a){return function(){return d=a.$select.find(a.options.optionsSelector),a.$wrap.attr("data-prettyselect-elements",d.length),a.$drop.html(a._.populate(d)),0===a.$select.find("[selected]").length?a.$label.html(a._.getLabel(a.$select)):void 0}}(this)),this.observer.observe(this.$select[0],{subtree:!0,attributes:!0,attributeOldValue:!1,attributeFilter:["class"],childList:!0})}return a.prototype.defaults={wrapClass:"prettyselect-wrap",labelClass:"prettyselect-label",dropClass:"prettyselect-drop",disabledClass:"prettyselect-disabled",onlyValuedOptions:!1},a.prototype._={populate:function(a){return a.map(function(){var a,c,d;return d=escape(b(this).attr("value")),c=b(this).attr("class"),a="undefined"!=typeof c?"class='"+escape(c)+"'":"","<li data-value='"+d+"' "+a+">"+b(this).html()+"</li>"}).toArray().join("")},getLabel:function(a){var b;return(b=a.find("option[data-placeholder]")).length>0?b.text():a.find("option:selected").text()},optionsSelector:{onlyWithValue:'option[value][value!=""]:not([data-placeholder])',withoutValue:"option:not([data-placeholder])"}},a.prototype.destroy=function(){return this.observer.disconnect(),this.$label.detach(),this.$drop.detach(),this.$select.show().unwrap(this.options.wrapClass).removeData("PrettySelect")},a.prototype.isDisabled=function(){return"disabled"===this.$select.attr("disabled")},a.prototype.disable=function(){return this.$select.attr("disabled","disabled"),this.$wrap.addClass(this.options.disabledClass)},a.prototype.enable=function(){return this.$select.removeAttr("disabled","disabled"),this.$wrap.removeClass(this.options.disabledClass)},a.prototype.closeDrop=function(){return this.$drop.css("display","none")},a.prototype.showDrop=function(){return this.$drop.css("display","block")},a.prototype.isDropOpen=function(){return"block"===this.$drop.css("display")},a}(),b.fn.prettyselect=function(){var d,e;return e=arguments[0],d=2<=arguments.length?a.call(arguments,1):[],this.each(function(){var a,f;return a=b(this),f=a.data("PrettySelect"),f||a.data("PrettySelect",f=new c(this,e)),"string"==typeof e?f[e].apply(f,d):void 0})}}(window.jQuery||window.Zepto)}.call(this);